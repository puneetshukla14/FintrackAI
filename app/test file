import requests
import subprocess



def check_for_update(
    try:
        res = requests.get(VERSION_CHECK_URL
        latest = data.get("version")
        download_url = data.get("

        if latest > CURRENT_VERSION:
            confirm = messagebox.askyesno("üÜï Update Available", f"Version {latest} is available.\n to insta
            if confirm:
                download_and_run(download_url)
    except Exception as e:
        print("‚ùå Update check failed:", e)

def download_and_run(download_url):
    try:
        file_name = "SSiSutra_Update.exe"
        with open(file_name, 'wb') as f:
            res = requests.get(download_url, stream=True)
            for chunk in res.iter_content(chunk_size=1024):
                if chunk:
                    f.write(chunk)

        subprocess.Popen([file_name])
        sys.exit()

    except Exception as e:
        messagebox.showerror("Download Error", f"‚ùå Failed to download update:\n{e}")
